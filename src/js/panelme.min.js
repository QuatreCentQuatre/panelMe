(function(e,t,n,r){var i=n.createElement("div").style;var s,o;var u=function(e,t,n){this.__construct(e,t,n)};var a=u.prototype;a.debug=false;a.$el=null;a.$toggler=null;a.$contentCtn=null;a.options=null;a.is_animating=false;a.is_opened=false;a.transform_enabled=false;a.defaults={side:"left",closeBtnClass:"close-panel-btn",contentCtn:"",swipeEnabled:true,css3Enabled:true,openDelay:.6,openEasing:"Quad.easeInOut",onBeforeOpen:function(){this.$el.css({zIndex:99999,display:"block"})},onOpen:function(){if(this.options.css3Enabled&&this.transform_enabled){this.$el.addClass("panel-animation-open");o=this;setTimeout(function(){o.$el.css(o.positions.open)},50)}else{s=e.extend({},this.positions.open);TweenLite.to(this.$el,this.options.openDelay,s)}},onAfterOpen:function(){if(this.options.css3Enabled&&this.transform_enabled){this.$el.removeClass("panel-animation-open")}},closeDelay:.6,closeEasing:"Quad.easeInOut",onBeforeClose:function(){},onClose:function(){if(this.options.css3Enabled&&this.transform_enabled){this.$el.addClass("panel-animation-close");o=this;setTimeout(function(){o.$el.css(o.positions.close)},50)}else{s=e.extend({},this.positions.close);TweenLite.to(this.$el,this.options.closeDelay,s)}},onAfterClose:function(){if(this.options.css3Enabled&&this.transform_enabled){this.$el.removeClass("panel-animation-close")}this.$el.css({zIndex:"",display:"none"})}};a.__construct=function(t,n,r){if(!t){return}this.options=e.extend({},this.defaults,r);delete a.defaults;this.$el=t;this.$toggler=n;this.$contentCtn=e(this.options.contentCtn);this.detectFeature.call(this);this.addEvent.call(this);if(this.debug){console.log("__construct :: PanelMe",this)}this.position.call(this);this.resize.call(this)};a.detectFeature=function(){if(this.options.css3Enabled){if(this.testProps.call(this,["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])){this.transform_enabled=true;this.addCSS.call(this)}}};a.addEvent=function(){o=this;this.$toggler.on("click",function(e){o.toggle.call(o,e)});this.$el.on("click","."+this.options.closeBtnClass,function(e){o.close.call(o,e)});e(t).on("resize",function(e){o.resize.call(o,e)})};a.handleSwipeEvent=function(n){if(this.options.swipeEnabled){if(n){e(t).on("movestart.panelme",function(e){if(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY){e.preventDefault()}});e(t).on("swipeleft.panelme",function(e){o.swipe.call(o,e)});e(t).on("swiperight.panelme",function(e){o.swipe.call(o,e)})}else{e(t).off("movestart.panelme");e(t).off("swipeleft.panelme");e(t).off("swiperight.panelme")}}};a.swipe=function(e){if(this.is_opened&&e.type=="swipeleft"){this.close.call(this)}else if(!this.is_opened&&e.type=="swiperight"){this.open.call(this)}};a.position=function(){this.positions={};this.positions.open={};this.positions.close={};this.positions.open.position="fixed";this.positions.close.position="fixed";if(this.options.side=="left"){this.positions.close.left=-(this.$el.width()+17);this.positions.open.left=0}else if(this.options.side=="right"){this.positions.close.right=-(e(t).width()+17);this.positions.open.right=0}this.positions.open.ease=this.options.openEasing;this.positions.close.ease=this.options.closeEasing;if(this.is_opened){this.$el.css(this.positions.open)}else{this.$el.css(this.positions.close);this.$el.css({display:"none"})}};a.addCSS=function(){var e;var t=n.createElement("style");t.type="text/css";t.innerHTML="";e="open";t.innerHTML+=".panel-animation-"+e+" { \n";t.innerHTML+=this.createCSSBlock(e);t.innerHTML+="}\n";e="close";t.innerHTML+=".panel-animation-"+e+" { \n";t.innerHTML+=this.createCSSBlock(e);t.innerHTML+="}\n";n.getElementsByTagName("head")[0].appendChild(t)};a.toggle=function(e){e.preventDefault();if(this.is_opened){this.close.call(this)}else{this.open.call(this)}};a.show=function(){this.is_opened=true;this.options.onBeforeOpen.call(this);this.position.call(this);this.options.onAfterOpen.call(this)};a.open=function(){if(this.is_animating||this.is_opened){return}this.is_animating=true;this.options.onBeforeOpen.call(this);this.options.onOpen.call(this);o=this;setTimeout(function(){o.options.onAfterOpen.call(o);o.is_animating=false;o.is_opened=true},this.options.openDelay*1e3)};a.hide=function(){this.is_opened=false;this.options.onBeforeClose.call(this);this.position.call(this);this.options.onAfterClose.call(this)};a.close=function(){if(this.is_animating||!this.is_opened){return}this.is_animating=true;this.options.onBeforeClose.call(this);this.options.onClose.call(this);o=this;setTimeout(function(){o.options.onAfterClose.call(o);o.is_animating=false;o.is_opened=false},this.options.closeDelay*1e3)};a.resize=function(e){var t=this.getSize();if(t.w<768){this.handleSwipeEvent.call(this,true)}else{this.handleSwipeEvent.call(this,false)}this.position.call(this)};a.testProps=function(e,t){if(!t){t=null}for(var n in e){if(i[e[n]]!==r){return t=="pfx"?e[n]:true}}return false};a.createCSSBlock=function(e){var t=this.options[e+"Delay"];var n=this.options[e+"Easing"].split(".");var r="";r+="transition-property:top, left, right, bottom;"+"\n";r+="transition-duration:"+t+"s;"+"\n";r+="transition-timing-function:"+n[1]+n[0]+";"+"\n";return r};a.toString=function(){return"[PanelMe]"};a.getSize=function(){var r=this.isOldIE();if(r&&r.version<9){var i=e(n).height(),s=e(t).height();return[t.innerWidth||n.documentElement.clientWidth||n.body.clientWidth,i-s<20?s:i]}return{w:e(t).width(),h:e(t).height()}};a.isOldIE=function(){var e={string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"};var t={};if(this.searchString(e)){t.id=this.searchString(e);t.version=this.searchVersion(e)}else{t=null}return t};a.searchString=function(e){var t=e.string;var n=e.prop;if(t&&t.indexOf(e.subString)!=-1){return e.identity}else if(n){return e.identity}return null};a.searchVersion=function(e){var t=e.string;var n=e.versionSearch||e.identity;var r=t.indexOf(n);if(r==-1)return null;return parseFloat(t.substring(r+n.length+1))};if(!t.Me){t.Me={}}Me.Panel=u})(jQuery,window,document)